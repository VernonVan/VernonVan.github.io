<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="iOS,ç¿»è¯‘," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="åŸæ–‡åœ°å€ï¼šDebugging Swift code with LLDB
åŸæ–‡ä½œè€…ï¼šAhmed Sulaiman


ç”¨ LLDB è°ƒè¯• Swift ä»£ç 
ä½œä¸ºå·¥ç¨‹å¸ˆï¼Œæˆ‘ä»¬èŠ±äº†å·®ä¸å¤š 70% çš„æ—¶é—´åœ¨è°ƒè¯•ä¸Šï¼Œå‰©ä¸‹çš„ 20% ç”¨æ¥æ€è€ƒæ¶æ„ä»¥åŠå’Œç»„å‘˜æ²Ÿé€šï¼Œä»…ä»…åªæœ‰ 10% çš„æ—¶é—´æ˜¯çœŸçš„åœ¨å†™ä»£ç çš„ã€‚

è°ƒè¯•å°±åƒæ˜¯åœ¨çŠ¯ç½ªç”µå½±ä¸­åšä¾¦æ¢ä¸€æ ·ï¼ŒåŒæ—¶ä½ ä¹Ÿæ˜¯å‡¶æ‰‹ã€‚
â€” Filipe Fortes æ¥è‡ª Twitt">
<meta property="og:type" content="article">
<meta property="og:title" content="(ç¿»è¯‘)ç”¨ LLDB è°ƒè¯• Swift ä»£ç ">
<meta property="og:url" content="http://yoursite.com/2018/02/06/ç¿»è¯‘ç”¨LLDBè°ƒè¯•Swiftä»£ç /index.html">
<meta property="og:site_name" content="ruanpapaå’Œåˆå‰å›å†™å­—çš„åœ°æ–¹">
<meta property="og:description" content="åŸæ–‡åœ°å€ï¼šDebugging Swift code with LLDB
åŸæ–‡ä½œè€…ï¼šAhmed Sulaiman


ç”¨ LLDB è°ƒè¯• Swift ä»£ç 
ä½œä¸ºå·¥ç¨‹å¸ˆï¼Œæˆ‘ä»¬èŠ±äº†å·®ä¸å¤š 70% çš„æ—¶é—´åœ¨è°ƒè¯•ä¸Šï¼Œå‰©ä¸‹çš„ 20% ç”¨æ¥æ€è€ƒæ¶æ„ä»¥åŠå’Œç»„å‘˜æ²Ÿé€šï¼Œä»…ä»…åªæœ‰ 10% çš„æ—¶é—´æ˜¯çœŸçš„åœ¨å†™ä»£ç çš„ã€‚

è°ƒè¯•å°±åƒæ˜¯åœ¨çŠ¯ç½ªç”µå½±ä¸­åšä¾¦æ¢ä¸€æ ·ï¼ŒåŒæ—¶ä½ ä¹Ÿæ˜¯å‡¶æ‰‹ã€‚
â€” Filipe Fortes æ¥è‡ª Twitt">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/698554-035b0df85ea54d32.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/698554-4425e8ad483d1e91.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/698554-28e3583bcef761ec.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/698554-f788753308492216.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/698554-ca27db839bd80a19.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/698554-42790260c5498fe3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/698554-67b11fbfba92f9c8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/698554-b6780919d5f067a1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/698554-f8a7604c35151d5c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/698554-2179c17fefec7742.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/698554-5207a680ff245ddf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/698554-2b16ad60aed4e6af.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/698554-190d8c7f7600ae0c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/698554-8d3a7affc384f574.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/698554-779f316d847a475c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/698554-a1c3ec912e68ba8f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/698554-0dfdf39bff20db4d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/698554-93fdf48e5daca771.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/698554-463b54c539c5eb64.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/698554-7ac0c7f2bf73cecd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/698554-5d99e8dfc0af41df.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:updated_time" content="2018-02-06T07:13:38.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="(ç¿»è¯‘)ç”¨ LLDB è°ƒè¯• Swift ä»£ç ">
<meta name="twitter:description" content="åŸæ–‡åœ°å€ï¼šDebugging Swift code with LLDB
åŸæ–‡ä½œè€…ï¼šAhmed Sulaiman


ç”¨ LLDB è°ƒè¯• Swift ä»£ç 
ä½œä¸ºå·¥ç¨‹å¸ˆï¼Œæˆ‘ä»¬èŠ±äº†å·®ä¸å¤š 70% çš„æ—¶é—´åœ¨è°ƒè¯•ä¸Šï¼Œå‰©ä¸‹çš„ 20% ç”¨æ¥æ€è€ƒæ¶æ„ä»¥åŠå’Œç»„å‘˜æ²Ÿé€šï¼Œä»…ä»…åªæœ‰ 10% çš„æ—¶é—´æ˜¯çœŸçš„åœ¨å†™ä»£ç çš„ã€‚

è°ƒè¯•å°±åƒæ˜¯åœ¨çŠ¯ç½ªç”µå½±ä¸­åšä¾¦æ¢ä¸€æ ·ï¼ŒåŒæ—¶ä½ ä¹Ÿæ˜¯å‡¶æ‰‹ã€‚
â€” Filipe Fortes æ¥è‡ª Twitt">
<meta name="twitter:image" content="http://upload-images.jianshu.io/upload_images/698554-035b0df85ea54d32.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"hide"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/02/06/ç¿»è¯‘ç”¨LLDBè°ƒè¯•Swiftä»£ç /"/>





  <title> (ç¿»è¯‘)ç”¨ LLDB è°ƒè¯• Swift ä»£ç  | ruanpapaå’Œåˆå‰å›å†™å­—çš„åœ°æ–¹ </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">ruanpapaå’Œåˆå‰å›å†™å­—çš„åœ°æ–¹</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle"></p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/06/ç¿»è¯‘ç”¨LLDBè°ƒè¯•Swiftä»£ç /">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="ruanpapa & åˆå‰å›">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="ruanpapaå’Œåˆå‰å›å†™å­—çš„åœ°æ–¹">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="ruanpapaå’Œåˆå‰å›å†™å­—çš„åœ°æ–¹" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                (ç¿»è¯‘)ç”¨ LLDB è°ƒè¯• Swift ä»£ç 
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-06T14:41:38+08:00">
                2018-02-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ruanpapa-æŠ€æœ¯è´´/" itemprop="url" rel="index">
                    <span itemprop="name">ruanpapa--æŠ€æœ¯è´´</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/02/06/ç¿»è¯‘ç”¨LLDBè°ƒè¯•Swiftä»£ç /#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2018/02/06/ç¿»è¯‘ç”¨LLDBè°ƒè¯•Swiftä»£ç /" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/2018/02/06/ç¿»è¯‘ç”¨LLDBè°ƒè¯•Swiftä»£ç /" class="leancloud_visitors" data-flag-title="(ç¿»è¯‘)ç”¨ LLDB è°ƒè¯• Swift ä»£ç ">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•° </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote>
<ul>
<li>åŸæ–‡åœ°å€ï¼š<a href="https://medium.com/flawless-app-stories/debugging-swift-code-with-lldb-b30c5cf2fd49" target="_blank" rel="external">Debugging Swift code with LLDB</a></li>
<li>åŸæ–‡ä½œè€…ï¼š<a href="https://medium.com/@ahmedsulaiman?source=post_header_lockup" target="_blank" rel="external">Ahmed Sulaiman</a></li>
</ul>
</blockquote>
<h1 id="ç”¨-LLDB-è°ƒè¯•-Swift-ä»£ç "><a href="#ç”¨-LLDB-è°ƒè¯•-Swift-ä»£ç " class="headerlink" title="ç”¨ LLDB è°ƒè¯• Swift ä»£ç "></a>ç”¨ LLDB è°ƒè¯• Swift ä»£ç </h1><p><img src="http://upload-images.jianshu.io/upload_images/698554-035b0df85ea54d32.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>ä½œä¸ºå·¥ç¨‹å¸ˆï¼Œæˆ‘ä»¬èŠ±äº†å·®ä¸å¤š 70% çš„æ—¶é—´åœ¨è°ƒè¯•ä¸Šï¼Œå‰©ä¸‹çš„ 20% ç”¨æ¥æ€è€ƒæ¶æ„ä»¥åŠå’Œç»„å‘˜æ²Ÿé€šï¼Œä»…ä»…åªæœ‰ 10% çš„æ—¶é—´æ˜¯çœŸçš„åœ¨å†™ä»£ç çš„ã€‚</p>
<blockquote>
<p>è°ƒè¯•å°±åƒæ˜¯åœ¨çŠ¯ç½ªç”µå½±ä¸­åšä¾¦æ¢ä¸€æ ·ï¼ŒåŒæ—¶ä½ ä¹Ÿæ˜¯å‡¶æ‰‹ã€‚</p>
<p>â€” <a href="https://twitter.com/fortes" target="_blank" rel="external">Filipe Fortes</a> æ¥è‡ª Twitter</p>
</blockquote>
<p>æ‰€ä»¥è®©æˆ‘ä»¬åœ¨è¿™70%çš„æ—¶é—´å°½å¯èƒ½æ„‰æ‚¦æ˜¯ç›¸å½“é‡è¦çš„ã€‚LLDB å°±æ˜¯æ¥æ‰“æ•‘æˆ‘ä»¬çš„ã€‚å¥‡å¦™çš„ Xcode Debugger UI å±•ç¤ºäº†æ‰€æœ‰ä½ å¯ç”¨çš„ä¿¡æ¯ï¼Œè€Œä¸ç”¨æ•²å…¥ä»»ä½•ä¸€ä¸ª LLDB å‘½ä»¤ã€‚ç„¶è€Œï¼Œæ§åˆ¶å°åœ¨æˆ‘ä»¬çš„å·¥ä½œä¸­åŒæ ·ä¹Ÿæ˜¯å¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†ã€‚ç°åœ¨è®©æˆ‘ä»¬æ¥åˆ†æä¸€äº›æœ€æœ‰ç”¨çš„ LLDB æŠ€å·§ã€‚æˆ‘è‡ªå·±æ¯å¤©éƒ½åœ¨ç”¨å®ƒä»¬è¿›è¡Œè°ƒè¯•ã€‚</p>
<h3 id="ä»å“ªé‡Œå¼€å§‹å‘¢ï¼Ÿ"><a href="#ä»å“ªé‡Œå¼€å§‹å‘¢ï¼Ÿ" class="headerlink" title="ä»å“ªé‡Œå¼€å§‹å‘¢ï¼Ÿ"></a>ä»å“ªé‡Œå¼€å§‹å‘¢ï¼Ÿ</h3><p>LLDB æ˜¯ä¸€ä¸ªåºå¤§çš„å·¥å…·ï¼Œå†…ç½®äº†å¾ˆå¤šæœ‰ç”¨çš„å‘½ä»¤ã€‚æˆ‘ä¸ä¼šå…¨éƒ¨è®²è§£ï¼Œè€Œæ˜¯å¸¦ä½ æµè§ˆæœ€æœ‰ç”¨çš„å‘½ä»¤ã€‚è¿™æ˜¯æˆ‘ä»¬çš„è®¡åˆ’ï¼š</p>
<ol>
<li>è·å–å˜é‡å€¼ï¼š <code>expression</code>, <code>e</code>, <code>print</code>, <code>po</code>, <code>p</code></li>
<li>è·å–æ•´ä¸ªåº”ç”¨ç¨‹åºçš„çŠ¶æ€ä»¥åŠç‰¹å®šè¯­è¨€çš„å‘½ä»¤ï¼š<code>bugreport</code>, <code>frame</code>, <code>language</code></li>
<li>æ§åˆ¶åº”ç”¨çš„æ‰§è¡Œæµç¨‹ï¼š<code>process</code>, <code>breakpoint</code>, <code>thread</code>, <code>watchpoint</code></li>
<li>è£èª‰å¥–ï¼š<code>command</code>, <code>platform</code>, <code>gui</code></li>
</ol>
<p>æˆ‘è¿˜å‡†å¤‡å¥½äº†æœ‰ç”¨çš„ LLDB å‘½ä»¤è¯´æ˜å’Œå®ä¾‹çš„è¡¨æ ¼ï¼Œæœ‰éœ€è¦çš„å¯ä»¥æŠŠå®ƒè´´åœ¨ Mac ä¸Šé¢è®°ä½è¿™äº›å‘½ä»¤ ğŸ™‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/698554-4425e8ad483d1e91.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>é€šè¿‡è¿™æ¡é“¾æ¥ä¸‹è½½å…¨å°ºå¯¸çš„ç‰ˆæœ¬ â€” â€Š<a href="https://www.dropbox.com/s/9sv67e7f2repbpb/lldb-commands-map.png?dl=0" target="_blank" rel="external">https://www.dropbox.com/s/9sv67e7f2repbpb/lldb-commands-map.png?dl=0</a></p>
<h3 id="1-è·å–å˜é‡å€¼å’ŒçŠ¶æ€"><a href="#1-è·å–å˜é‡å€¼å’ŒçŠ¶æ€" class="headerlink" title="1. è·å–å˜é‡å€¼å’ŒçŠ¶æ€"></a>1. è·å–å˜é‡å€¼å’ŒçŠ¶æ€</h3><p>å‘½ä»¤ï¼š<code>expression</code>, <code>e</code>, <code>print</code>, <code>po</code>, <code>p</code></p>
<p><img src="http://upload-images.jianshu.io/upload_images/698554-28e3583bcef761ec.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>è°ƒè¯•å™¨çš„ä¸€ä¸ªåŸºç¡€åŠŸèƒ½å°±æ˜¯è·å–å’Œä¿®æ”¹å˜é‡çš„å€¼ã€‚è¿™å°±æ˜¯ <code>expression</code> æˆ–è€… <code>e</code> è¢«åˆ›é€ çš„åŸå› ï¼ˆå½“ç„¶ä»–ä»¬è¿˜æœ‰æ›´é«˜çº§çš„åŠŸèƒ½ï¼‰ã€‚æ‚¨å¯ä»¥ç®€å•çš„åœ¨è¿è¡Œæ—¶æ‰§è¡Œä»»ä½•è¡¨è¾¾å¼æˆ–å‘½ä»¤ã€‚</p>
<p>å‡è®¾ä½ ç°åœ¨æ­£åœ¨è°ƒè¯•æ–¹æ³• <code>valueOfLifeWithoutSumOf()</code> ï¼šå¯¹ä¸¤ä¸ªæ•°æ±‚å’Œï¼Œå†ç”¨42å»å‡å¾—åˆ°ç»“æœã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/698554-f788753308492216.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>ç»§ç»­å‡è®¾ä½ ä¸€ç›´å¾—åˆ°é”™è¯¯çš„ç»“æœå¹¶ä¸”ä½ å¹¶ä¸çŸ¥é“æ˜¯ä»€ä¹ˆåŸå› ã€‚æ‰€ä»¥ä½ å¯ä»¥åšä»¥ä¸‹çš„äº‹æ¥æ‰¾åˆ°é—®é¢˜ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/698554-ca27db839bd80a19.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>æˆ–è€…ã€‚ã€‚ã€‚ä½¿ç”¨ LLDB è¡¨è¾¾å¼åœ¨è¿è¡Œæ—¶ä¿®æ”¹å€¼æ‰æ˜¯æ›´å¥½çš„æ–¹æ³•ï¼ŒåŒæ—¶å¯ä»¥æ‰¾å‡ºé—®é¢˜æ˜¯åœ¨å“ªé‡Œå‡ºç°çš„ã€‚é¦–å…ˆï¼Œåœ¨ä½ æ„Ÿå…´è¶£çš„åœ°æ–¹è®¾ç½®ä¸€ä¸ªæ–­ç‚¹ï¼Œç„¶åè¿è¡Œä½ çš„åº”ç”¨ã€‚</p>
<p>ä¸ºäº†ç”¨ LLDB æ ¼å¼æ‰“å°æŒ‡å®šçš„å˜é‡ä½ åº”è¯¥è°ƒç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(lldb) e &lt;variable&gt;</div></pre></td></tr></table></figure>
<p>ä½¿ç”¨ç›¸åŒçš„å‘½ä»¤æ¥æ‰§è¡Œä¸€äº›è¡¨è¾¾å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(lldb) e &lt;expression&gt;</div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/698554-42790260c5498fe3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">(lldb) e sum </div><div class="line">(Int) $R0 = 6 // ä¸‹é¢ä½ ä¹Ÿå¯ä»¥ç”¨ $R0 æ¥å¼•ç”¨è¿™ä¸ªå˜é‡ï¼ˆåœ¨æœ¬æ¬¡è°ƒè¯•è¿‡ç¨‹ä¸­ï¼‰</div><div class="line"></div><div class="line">(lldb) e sum = 4 // ä¿®æ”¹å˜é‡ sum çš„å€¼</div><div class="line"></div><div class="line">(lldb) e sum </div><div class="line">(Int) $R2 = 4 // ç›´åˆ°æœ¬æ¬¡è°ƒè¯•ç»“æŸå˜é‡ sum éƒ½ä¼šæ˜¯ &quot;4&quot;</div></pre></td></tr></table></figure>
<p><code>expression</code> å‘½ä»¤ä¹Ÿæœ‰ä¸€äº›æ ‡å¿—ã€‚åœ¨ <code>expression</code> åé¢ç”¨åŒç ´æŠ˜å· <code>--</code> å°†æ ‡å¿—å’Œå®é™…çš„è¡¨è¾¾å¼åˆ†éš”å¼€ï¼Œå°±åƒè¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(lldb) expression &lt;some flags&gt; -- &lt;variable&gt;</div></pre></td></tr></table></figure>
<p><code>expression</code> å‘½ä»¤å·®ä¸å¤šæœ‰30ç§ä¸åŒçš„æ ‡å¿—ã€‚æˆ‘é¼“åŠ±ä½ å¤šå»æ¢ç´¢å®ƒä»¬ã€‚åœ¨ç»ˆç«¯ä¸­é”®å…¥ä»¥ä¸‹å‘½ä»¤å¯ä»¥çœ‹åˆ°å®Œæ•´çš„æ–‡æ¡£ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt; lldb</div><div class="line">&gt; (lldb) help # è·å–æ‰€æœ‰å˜é‡çš„å‘½ä»¤</div><div class="line">&gt; (lldb) help expression # è·å–æ‰€æœ‰è¡¨è¾¾å¼çš„å­å‘½ä»¤</div></pre></td></tr></table></figure>
<p>æˆ‘ä¼šåœ¨ä¸‹åˆ— <code>expression</code> çš„æ ‡å¿—ä¸Šå¤šåœç•™ä¸€ä¼šå„¿ï¼š</p>
<ul>
<li><code>-D &lt;count&gt;</code> (<code>--depth &lt;count&gt;</code>)â€Š â€” è®¾ç½®åœ¨è½¬å‚¨èšåˆç±»å‹æ—¶çš„æœ€å¤§é€’å½’æ·±åº¦ï¼ˆé»˜è®¤ä¸ºæ— ç©·å¤§ï¼‰ã€‚</li>
<li><code>-O</code> (<code>--object-description</code>)â€Š â€” å¦‚æœå¯èƒ½çš„è¯ï¼Œä½¿ç”¨æŒ‡å®šè¯­è¨€çš„æè¿°APIæ¥æ˜¾ç¤ºã€‚</li>
<li><code>-T</code> (<code>--show-types</code>)â€Š â€” åœ¨è½¬å‚¨å€¼çš„æ—¶å€™æ˜¾ç¤ºå˜é‡ç±»å‹ã€‚</li>
<li><code>-f &lt;format&gt;</code> (<code>--format &lt;format&gt;</code>) â€” æŒ‡å®šä¸€ç§ç”¨äºæ˜¾ç¤ºçš„æ ¼å¼ã€‚</li>
<li><code>-i &lt;boolean&gt;</code> (<code>--ignore-breakpoints &lt;boolean&gt;</code>)â€Šâ€” åœ¨è¿è¡Œè¡¨è¾¾å¼æ—¶å¿½ç•¥æ–­ç‚¹ã€‚</li>
</ul>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå« <code>logger</code> çš„å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æœ‰ä¸€äº›å­—ç¬¦ä¸²å’Œç»“æ„ä½“ç±»å‹çš„å±æ€§ã€‚æ¯”å¦‚è¯´ï¼Œä½ å¯èƒ½åªæ˜¯æƒ³çŸ¥é“ç¬¬ä¸€å±‚çš„å±æ€§ï¼Œé‚£åªéœ€è¦ç”¨ <code>-D</code> æ ‡å¿—ä»¥åŠæ°å½“çš„å±‚çº§æ·±åº¦å€¼ï¼Œå°±åƒè¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">(lldb) e -D 1 -- logger</div><div class="line"></div><div class="line">(LLDB_Debugger_Exploration.Logger) $R5 = 0x0000608000087e90 &#123;</div><div class="line">  currentClassName = &quot;ViewController&quot;</div><div class="line">  debuggerStruct =&#123;...&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒLLDB ä¼šæ— é™åœ°éå†è¯¥å¯¹è±¡å¹¶ä¸”ç»™ä½ å±•ç¤ºæ¯ä¸ªåµŒå¥—çš„å¯¹è±¡çš„å®Œæ•´æè¿°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">(lldb) e -- logger</div><div class="line"></div><div class="line">(LLDB_Debugger_Exploration.Logger) $R6 = 0x0000608000087e90 &#123;</div><div class="line">  currentClassName = &quot;ViewController&quot;</div><div class="line">  debuggerStruct = (methodName = &quot;name&quot;, lineNumber = 2, commandCounter = 23)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä½ ä¹Ÿå¯ä»¥ç”¨ <code>e -O --</code> è·å–å¯¹è±¡çš„æè¿°æˆ–è€…æ›´ç®€å•åœ°ç”¨åˆ«å <code>po</code>ï¼Œå°±åƒä¸‹é¢çš„ç¤ºä¾‹ä¸€æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(lldb) po logger</div><div class="line"></div><div class="line">&lt;Logger: 0x608000087e90&gt;</div></pre></td></tr></table></figure>
<p>å¹¶ä¸æ˜¯å¾ˆæœ‰æè¿°æ€§ï¼Œä¸æ˜¯å—ï¼Ÿä¸ºäº†è·å–æ›´åŠ å¯é˜…è¯»çš„æè¿°ï¼Œä½ è‡ªå®šä¹‰çš„ç±»å¿…é¡»éµå¾ª <code>CustomStringConvertible</code> åè®®ï¼ŒåŒæ—¶å®ç° <code>var description: String { return ...}</code> å±æ€§ã€‚æ¥ä¸‹æ¥åªéœ€è¦ç”¨ <code>po</code> å°±èƒ½è¿”å›å¯è¯»çš„æè¿°ã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/698554-67b11fbfba92f9c8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>åœ¨æœ¬èŠ‚çš„å¼€å§‹ï¼Œæˆ‘ä¹Ÿæåˆ°äº† <code>print</code> å‘½ä»¤ã€‚åŸºæœ¬ä¸Š <code>print &lt;expression/variable&gt;</code> å°±ç­‰åŒäº <code>expression -- &lt;expression/variable&gt;</code>ã€‚ä½†æ˜¯ <code>print</code> å‘½ä»¤ä¸èƒ½å¸¦ä»»ä½•æ ‡å¿—æˆ–è€…é¢å¤–çš„å‚æ•°ã€‚</p>
<h3 id="2-è·å–æ•´ä¸ª-APP-çš„çŠ¶æ€å’ŒæŒ‡å®šè¯­è¨€çš„å‘½ä»¤"><a href="#2-è·å–æ•´ä¸ª-APP-çš„çŠ¶æ€å’ŒæŒ‡å®šè¯­è¨€çš„å‘½ä»¤" class="headerlink" title="2. è·å–æ•´ä¸ª APP çš„çŠ¶æ€å’ŒæŒ‡å®šè¯­è¨€çš„å‘½ä»¤"></a>2. è·å–æ•´ä¸ª APP çš„çŠ¶æ€å’ŒæŒ‡å®šè¯­è¨€çš„å‘½ä»¤</h3><p><code>bugreport</code>, <code>frame</code>, <code>language</code></p>
<p><img src="http://upload-images.jianshu.io/upload_images/698554-b6780919d5f067a1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>ä½ æ˜¯å¦ç»å¸¸å¤åˆ¶ç²˜è´´å´©æºƒæ—¥å¿—åˆ°ä»»åŠ¡ç®¡ç†å™¨ä¸­æ–¹ä¾¿ç¨åèƒ½è€ƒè™‘è¿™ä¸ªé—®é¢˜å—ï¼ŸLLDB æä¾›äº†ä¸€ä¸ªå¾ˆå¥½ç”¨çš„å‘½ä»¤å« <code>bugreport</code>ï¼Œè¿™ä¸ªå‘½ä»¤èƒ½ç”Ÿæˆå½“å‰åº”ç”¨çŠ¶æ€çš„å®Œæ•´æŠ¥å‘Šã€‚åœ¨ä½ å¶ç„¶è§¦å‘æŸäº›é—®é¢˜ä½†æ˜¯æƒ³åœ¨ç¨åå†è§£å†³å®ƒæ—¶è¿™ä¸ªå‘½ä»¤å°±ä¼šå¾ˆæœ‰å¸®åŠ©äº†ã€‚ä¸ºäº†èƒ½æ¢å¤åº”ç”¨çš„çŠ¶æ€ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>bugreport</code> ç”ŸæˆæŠ¥å‘Šã€‚ </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(lldb) bugreport unwind --outfile &lt;path to output file&gt;</div></pre></td></tr></table></figure>
<p>æœ€ç»ˆçš„æŠ¥å‘Šçœ‹èµ·æ¥å°±åƒä¸‹é¢æˆªå›¾ä¸­çš„ä¾‹å­ä¸€æ ·ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/698554-f8a7604c35151d5c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br><code>bugreport</code> å‘½ä»¤è¾“å‡ºçš„ç¤ºä¾‹ã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/698554-2179c17fefec7742.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>å‡è®¾ä½ æƒ³è¦è·å–å½“å‰çº¿ç¨‹çš„å½“å‰æ ˆå¸§çš„æ¦‚è¿°ï¼Œ<code>frame</code> å‘½ä»¤å¯ä»¥å¸®ä½ å®Œæˆï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/698554-5207a680ff245ddf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>ä½¿ç”¨ä¸‹é¢çš„ä»£ç ç‰‡æ®µæ¥å¿«é€Ÿè·å–å½“å‰åœ°å€ä»¥åŠå½“å‰çš„ç¯å¢ƒæ¡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(lldb) frame info</div><div class="line"></div><div class="line">frame #0: 0x000000010bbe4b4d LLDB-Debugger-Exploration`ViewController.valueOfLifeWithoutSumOf(a=2, b=2, self=0x00007fa0c1406900) -&gt; Int at ViewController.swift:96</div></pre></td></tr></table></figure>
<p>è¿™äº›ä¿¡æ¯åœ¨æœ¬æ–‡åé¢å°†è¦è¯´åˆ°çš„æ–­ç‚¹ç®¡ç†ä¸­éå¸¸æœ‰ç”¨ã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/698554-2b16ad60aed4e6af.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>LLDB æœ‰å‡ ä¸ªæŒ‡å®šè¯­è¨€çš„å‘½ä»¤ï¼ŒåŒ…æ‹¬C++ï¼ŒObjective-Cï¼ŒSwift å’Œ RenderScriptã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬é‡ç‚¹å…³æ³¨ Swiftã€‚è¿™æ˜¯ä¸¤ä¸ªå‘½ä»¤ï¼š<code>demangle</code> å’Œ <code>refcount</code>ã€‚</p>
<p><code>demangle</code> æ­£å¦‚å…¶åå­—è€Œè¨€ï¼Œå°±æ˜¯ç”¨æ¥é‡ç»„ Swift ç±»å‹åçš„ï¼ˆå› ä¸º Swift åœ¨ç¼–è¯‘çš„æ—¶å€™ä¼šç”Ÿæˆç±»å‹åæ¥é¿å…å‘½åç©ºé—´çš„é—®é¢˜ï¼‰ã€‚å¦‚æœä½ æƒ³äº†è§£å¤šä¸€ç‚¹çš„è¯ï¼Œæˆ‘å»ºè®®ä½ çœ‹ WWDC14 çš„è¿™ä¸ªåˆ†äº«ä¼š â€” â€Š<a href="https://developer.apple.com/videos/play/wwdc2014/410/" target="_blank" rel="external">â€œAdvanced Swift Debugging in LLDBâ€</a>ã€‚</p>
<p><code>refcount</code> åŒæ ·ä¹Ÿæ˜¯ä¸€ä¸ªç›¸å½“ç›´è§‚çš„å‘½ä»¤ï¼Œèƒ½è·å¾—æŒ‡å®šå¯¹è±¡çš„å¼•ç”¨æ•°é‡ã€‚ä¸€èµ·æ¥çœ‹ä¸€ä¸‹å¯¹è±¡è¾“å‡ºçš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬ç”¨äº†ä¸Šä¸€èŠ‚è®²åˆ°çš„å¯¹è±¡ â€” <code>logger</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(lldb) language swift refcount logger</div><div class="line"></div><div class="line">refcount data: (strong = 4, weak = 0)</div></pre></td></tr></table></figure>
<p>å½“ç„¶äº†ï¼Œåœ¨ä½ è°ƒè¯•æŸäº›å†…å­˜æ³„éœ²é—®é¢˜æ—¶ï¼Œè¿™ä¸ªå‘½ä»¤å°±ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚</p>
<h3 id="3-æ§åˆ¶åº”ç”¨çš„æ‰§è¡Œæµç¨‹"><a href="#3-æ§åˆ¶åº”ç”¨çš„æ‰§è¡Œæµç¨‹" class="headerlink" title="3. æ§åˆ¶åº”ç”¨çš„æ‰§è¡Œæµç¨‹"></a>3. æ§åˆ¶åº”ç”¨çš„æ‰§è¡Œæµç¨‹</h3><p><code>process</code>, <code>breakpoint</code>, <code>thread</code></p>
<p>è¿™èŠ‚æ˜¯æˆ‘æœ€å–œæ¬¢çš„ä¸€èŠ‚ï¼Œå› ä¸ºåœ¨ LLDB ä½¿ç”¨è¿™å‡ ä¸ªå‘½ä»¤ï¼ˆå°¤å…¶æ˜¯ <code>breakpoint</code> å‘½ä»¤ï¼‰ï¼Œä½ å¯ä»¥åœ¨è°ƒè¯•çš„æ—¶å€™ä½¿å¾ˆå¤šå¸¸è§„ä»»åŠ¡å˜å¾—è‡ªåŠ¨åŒ–ï¼Œè¿™æ ·å°±èƒ½å¤§å¤§åŠ å¿«ä½ çš„è°ƒè¯•å·¥ä½œã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/698554-190d8c7f7600ae0c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>é€šè¿‡ <code>process</code> åŸºæœ¬ä¸Šä½ å°±å¯ä»¥æ§åˆ¶è°ƒè¯•çš„è¿‡ç¨‹äº†ï¼Œè¿˜èƒ½é“¾æ¥åˆ°ç‰¹å®šçš„ target æˆ–è€…åœæ­¢è°ƒè¯•å™¨ã€‚ ä½†æ˜¯å› ä¸º Xcode å·²ç»è‡ªåŠ¨åœ°å¸®æˆ‘ä»¬åšå¥½äº†è¿™ä¸ªå·¥ä½œäº†ï¼ˆXcode åœ¨ä»»ä½•æ—¶å€™è¿è¡Œä¸€ä¸ª target æ—¶éƒ½ä¼šè¿æ¥ LLDBï¼‰ã€‚æˆ‘ä¸ä¼šåœ¨è¿™å„¿è®²å¤ªå¤šï¼Œä½ å¯ä»¥åœ¨è¿™ç¯‡ Apple çš„æŒ‡å—ä¸­é˜…è¯»ä¸€ä¸‹å¦‚ä½•ç”¨ç»ˆç«¯è¿æ¥åˆ°ä¸€ä¸ª target â€” <a href="https://developer.apple.com/library/content/documentation/IDEs/Conceptual/gdb_to_lldb_transition_guide/document/lldb-terminal-workflow-tutorial.html" target="_blank" rel="external">â€œUsing LLDB as a Standalone Debuggerâ€</a>ã€‚</p>
<p>ä½¿ç”¨ <code>process status</code> çš„è¯ï¼Œä½ å¯ä»¥çŸ¥é“å½“å‰è°ƒè¯•å™¨åœä½çš„åœ°å€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">(lldb) process status</div><div class="line"></div><div class="line">Process 27408 stopped</div><div class="line">* thread #1, queue = &apos;com.apple.main-thread&apos;, stop reason = step over</div><div class="line">frame #0: 0x000000010bbe4889 LLDB-Debugger-Exploration`ViewController.viewDidLoad(self=0x00007fa0c1406900) -&gt; () at ViewController.swift:69</div><div class="line">66</div><div class="line">67           let a = 2, b = 2</div><div class="line">68           let result = valueOfLifeWithoutSumOf(a, and: b)</div><div class="line">-&gt; 69           print(result)</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td></tr></table></figure>
<p>æƒ³è¦ç»§ç»­ target çš„æ‰§è¡Œè¿‡ç¨‹ç›´åˆ°é‡åˆ°ä¸‹æ¬¡æ–­ç‚¹çš„è¯ï¼Œè¿è¡Œè¿™ä¸ªå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(lldb) process continue</div><div class="line"></div><div class="line">(lldb) c // æˆ–è€…åªé”®å…¥ &quot;c&quot;ï¼Œè¿™è·Ÿä¸Šä¸€æ¡å‘½ä»¤æ˜¯ä¸€æ ·çš„</div></pre></td></tr></table></figure>
<p>è¿™ä¸ªå‘½ä»¤ç­‰åŒäº Xcode è°ƒè¯•å™¨å·¥å…·æ ä¸Šçš„â€continueâ€œæŒ‰é’®ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/698554-8d3a7affc384f574.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><img src="http://upload-images.jianshu.io/upload_images/698554-779f316d847a475c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><code>breakpoint</code> å‘½ä»¤å…è®¸ä½ ç”¨ä»»ä½•å¯èƒ½çš„æ–¹å¼æ“ä½œæ–­ç‚¹ã€‚æˆ‘ä»¬è·³è¿‡æœ€æ˜¾è€Œæ˜“è§çš„å‘½ä»¤ï¼š<code>breakpoint enable</code>, <code>breakpoint disable</code> å’Œ <code>breakpoint delete</code>ã€‚</p>
<p>é¦–å…ˆï¼ŒæŸ¥çœ‹ä½ æ‰€æœ‰æ–­ç‚¹çš„è¯å¯ä»¥ç”¨å¦‚ä¸‹ç¤ºä¾‹ä¸­çš„ <code>list</code> å­å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">(lldb) breakpoint list</div><div class="line"></div><div class="line">Current breakpoints:</div><div class="line">1: file = &apos;/Users/Ahmed/Desktop/Recent/LLDB-Debugger-Exploration/LLDB-Debugger-Exploration/ViewController.swift&apos;, line = 95, exact_match = 0, locations = 1, resolved = 1, hit count = 1</div><div class="line"></div><div class="line">1.1: where = LLDB-Debugger-Exploration`LLDB_Debugger_Exploration.ViewController.valueOfLifeWithoutSumOf (Swift.Int, and : Swift.Int) -&gt; Swift.Int + 27 at ViewController.swift:95, address = 0x0000000107f3eb3b, resolved, hit count = 1</div><div class="line"></div><div class="line">2: file = &apos;/Users/Ahmed/Desktop/Recent/LLDB-Debugger-Exploration/LLDB-Debugger-Exploration/ViewController.swift&apos;, line = 60, exact_match = 0, locations = 1, resolved = 1, hit count = 1</div><div class="line"></div><div class="line">2.1: where = LLDB-Debugger-Exploration`LLDB_Debugger_Exploration.ViewController.viewDidLoad () -&gt; () + 521 at ViewController.swift:60, address = 0x0000000107f3e609, resolved, hit count = 1</div></pre></td></tr></table></figure>
<p>åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªæ•°å­—æ˜¯æ˜¯æ–­ç‚¹çš„ IDï¼Œä½ å¯ä»¥é€šè¿‡è¿™ä¸ª ID å¼•ç”¨åˆ°æŒ‡å®šçš„æ–­ç‚¹ã€‚ç°åœ¨è®©æˆ‘ä»¬åœ¨æ§åˆ¶å°ä¸­è®¾ç½®ä¸€äº›æ–°çš„æ–­ç‚¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(lldb) breakpoint set -f ViewController.swift -l 96</div><div class="line"></div><div class="line">Breakpoint 3: where = LLDB-Debugger-Exploration`LLDB_Debugger_Exploration.ViewController.valueOfLifeWithoutSumOf (Swift.Int, and : Swift.Int) -&gt; Swift.Int + 45 at ViewController.swift:96, address = 0x0000000107f3eb4d</div></pre></td></tr></table></figure>
<p>è¿™ä¸ªä¾‹å­ä¸­çš„ <code>-f</code> æ˜¯ä½ æƒ³è¦æ”¾ç½®æ–­ç‚¹å¤„çš„æ–‡ä»¶åï¼Œ<code>-l</code> æ˜¯æ–°æ–­ç‚¹çš„è¡Œæ•°ã€‚è¿˜æœ‰ä¸€ç§æ›´ç®€æ´çš„æ–¹å¼è®¾ç½®åŒæ ·çš„æ–­ç‚¹ï¼Œå°±æ˜¯ç”¨å¿«æ·æ–¹å¼ <code>b</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(lldb) b ViewController.swift:96</div></pre></td></tr></table></figure>
<p>åŒæ ·åœ°ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨æŒ‡å®šçš„æ­£åˆ™ï¼ˆæ¯”å¦‚å‡½æ•°åï¼‰æ¥è®¾ç½®æ–­ç‚¹ï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(lldb) breakpoint set --func-regex valueOfLifeWithoutSumOf</div><div class="line"></div><div class="line">(lldb) b -r valueOfLifeWithoutSumOf // ä¸Šä¸€æ¡å‘½ä»¤çš„ç®€åŒ–ç‰ˆæœ¬</div></pre></td></tr></table></figure>
<p>æœ‰äº›æ—¶å€™è®¾ç½®æ–­ç‚¹åªå‘½ä¸­ä¸€æ¬¡ä¹Ÿæ˜¯æœ‰ç”¨çš„ï¼Œç„¶åæŒ‡ç¤ºè¿™ä¸ªæ–­ç‚¹ç«‹å³åˆ é™¤è‡ªå·±ï¼Œå½“ç„¶å•¦ï¼Œæœ‰ä¸€ä¸ªå‘½ä»¤æ¥å¤„ç†è¿™ä»¶äº‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(lldb) breakpoint set --one-shot -f ViewController.swift -l 90</div><div class="line"></div><div class="line">(lldb) br s -o -f ViewController.swift -l 91 // ä¸Šä¸€æ¡å‘½ä»¤çš„ç®€åŒ–ç‰ˆæœ¬</div></pre></td></tr></table></figure>
<p>ç°åœ¨æˆ‘ä»¬æ¥åˆ°äº†æœ€æœ‰è¶£çš„éƒ¨åˆ† â€” è‡ªåŠ¨åŒ–æ–­ç‚¹ã€‚ä½ çŸ¥é“ä½ å¯ä»¥è®¾ç½®ä¸€ä¸ªç‰¹å®šçš„åŠ¨ä½œä½¿å®ƒåœ¨æ–­ç‚¹åœä½çš„æ—¶å€™æ‰§è¡Œå—ï¼Ÿæ˜¯çš„ï¼Œä½ å¯ä»¥ï¼ä½ æ˜¯å¦ä¼šåœ¨ä»£ç ä¸­ç”¨ <code>print()</code> æ¥åœ¨è°ƒè¯•çš„æ—¶å€™å¾—åˆ°ä½ æ„Ÿå…´è¶£çš„å€¼ï¼Ÿè¯·ä¸è¦å†è¿™æ ·åšäº†ï¼Œè¿™é‡Œæœ‰ä¸€ç§æ›´å¥½çš„æ–¹æ³•ã€‚ğŸ™‚</p>
<p>é€šè¿‡ <code>breakpoint</code> å‘½ä»¤ï¼Œä½ å¯ä»¥è®¾ç½®å¥½å‘½ä»¤ï¼Œä½¿å…¶åœ¨æ–­ç‚¹å‘½ä¸­æ—¶å¯ä»¥æ­£ç¡®æ‰§è¡Œã€‚ä½ ç”šè‡³å¯ä»¥è®¾ç½®â€ä¸å¯è§â€œçš„æ–­ç‚¹ï¼Œè¿™ç§æ–­ç‚¹å¹¶ä¸ä¼šæ‰“æ–­è¿è¡Œè¿‡ç¨‹ã€‚ä»æŠ€æœ¯ä¸Šè®²ï¼Œè¿™äº›â€œä¸å¯è§çš„â€æ–­ç‚¹å…¶å®æ˜¯ä¼šä¸­æ–­æ‰§è¡Œçš„ï¼Œä½†å¦‚æœåœ¨å‘½ä»¤é“¾çš„æœ«å°¾æ·»ä¸Šâ€œcontinueâ€å‘½ä»¤çš„è¯ï¼Œä½ å°±ä¸ä¼šæ³¨æ„åˆ°å®ƒã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">(lldb) b ViewController.swift:96 // Let&apos;s add a breakpoint first</div><div class="line"></div><div class="line">Breakpoint 2: where = LLDB-Debugger-Exploration`LLDB_Debugger_Exploration.ViewController.valueOfLifeWithoutSumOf (Swift.Int, and : Swift.Int) -&gt; Swift.Int + 45 at ViewController.swift:96, address = 0x000000010c555b4d</div><div class="line"></div><div class="line">(lldb) breakpoint command add 2 // å‡†å¤‡æŸäº›å‘½ä»¤</div><div class="line"></div><div class="line">Enter your debugger command(s).  Type &apos;DONE&apos; to end.</div><div class="line">&gt; p sum // æ‰“å°å˜é‡ &quot;sum&quot; çš„å€¼</div><div class="line">&gt; p a + b // è¿è¡Œ a + b</div><div class="line">&gt; DONE</div></pre></td></tr></table></figure>
<p>ä¸ºäº†ç¡®ä¿ä½ æ·»åŠ çš„å‘½ä»¤æ˜¯æ­£ç¡®çš„ï¼Œå¯ä»¥ä½¿ç”¨  <code>breakpoint command list &lt;breakpoint id&gt;</code> å­å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">(lldb) breakpoint command list 2</div><div class="line"></div><div class="line">Breakpoint 2:</div><div class="line">Breakpoint commands:</div><div class="line">p sum</div><div class="line">p a + b</div></pre></td></tr></table></figure>
<p>å½“ä¸‹æ¬¡æ–­ç‚¹å‘½ä¸­æ—¶æˆ‘ä»¬å°±ä¼šåœ¨æ§åˆ¶å°çœ‹åˆ°ä¸‹é¢çš„è¾“å‡ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Process 36612 resuming</div><div class="line">p sum</div><div class="line">(Int) $R0 = 6</div><div class="line"></div><div class="line">p a + b</div><div class="line">(Int) $R1 = 4</div></pre></td></tr></table></figure>
<p>å¤ªæ£’äº†ï¼è¿™æ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚ä½ å¯ä»¥é€šè¿‡åœ¨å‘½ä»¤é“¾çš„æœ«å°¾æ·»åŠ  <code>continue</code> å‘½ä»¤è®©æ‰§è¡Œè¿‡ç¨‹æ›´åŠ é¡ºç•…ï¼Œè¿™æ ·ä½ å°±ä¸ä¼šåœåœ¨è¿™ä¸ªæ–­ç‚¹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">(lldb) breakpoint command add 2 // å‡†å¤‡æŸäº›å‘½ä»¤</div><div class="line"></div><div class="line">Enter your debugger command(s).  Type &apos;DONE&apos; to end.</div><div class="line">&gt; p sum // æ‰“å°å˜é‡ &quot;sum&quot; çš„å€¼</div><div class="line">&gt; p a + b // è¿è¡Œ a + b</div><div class="line">&gt; continue // ç¬¬ä¸€æ¬¡å‘½ä¸­æ–­ç‚¹åç›´æ¥æ¢å¤</div><div class="line">&gt; DONE</div></pre></td></tr></table></figure>
<p>ç»“æœä¼šæ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">p sum</div><div class="line">(Int) $R0 = 6</div><div class="line"></div><div class="line">p a + b</div><div class="line">(Int) $R1 = 4</div><div class="line"></div><div class="line">continue</div><div class="line">Process 36863 resuming</div><div class="line">Command #3 &apos;continue&apos; continued the target.</div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/698554-a1c3ec912e68ba8f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>é€šè¿‡ <code>thread</code> å‘½ä»¤å’Œå®ƒçš„å­å‘½ä»¤ï¼Œä½ å¯ä»¥å®Œå…¨æ“æ§æ‰§è¡Œæµç¨‹ï¼š<code>step-over</code>, <code>step-in</code>, <code>step-out</code> å’Œ <code>continue</code>ã€‚è¿™äº›å‘½ä»¤ç­‰åŒäº Xcode è°ƒè¯•å™¨å·¥å…·æ ä¸Šçš„æµç¨‹æ§åˆ¶æŒ‰é’®ã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/698554-0dfdf39bff20db4d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>LLDB åŒæ ·ä¹Ÿå¯¹è¿™äº›ç‰¹æ®Šçš„å‘½ä»¤é¢„å…ˆå®šä¹‰å¥½äº†å¿«æ·æ–¹å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">(lldb) thread step-over</div><div class="line">(lldb) next // å’Œ &quot;thread step-over&quot; å‘½ä»¤æ•ˆæœä¸€æ ·</div><div class="line">(lldb) n // å’Œ &quot;next&quot; å‘½ä»¤æ•ˆæœä¸€æ ·</div><div class="line"></div><div class="line">(lldb) thread step-in</div><div class="line">(lldb) step // å’Œ &quot;thread step-in&quot; å‘½ä»¤æ•ˆæœä¸€æ ·</div><div class="line">(lldb) s // å’Œ &quot;step&quot; å‘½ä»¤æ•ˆæœä¸€æ ·</div></pre></td></tr></table></figure>
<p>ä¸ºäº†è·å–å½“å‰çº¿ç¨‹çš„æ›´å¤šä¿¡æ¯ï¼Œæˆ‘ä»¬åªéœ€è¦è°ƒç”¨ <code>info</code> å­å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(lldb) thread info </div><div class="line"></div><div class="line">thread #1: tid = 0x17de17, 0x0000000109429a90 LLDB-Debugger-Exploration`ViewController.sumOf(a=2, b=2, self=0x00007fe775507390) -&gt; Int at ViewController.swift:90, queue = &apos;com.apple.main-thread&apos;, stop reason = step in</div></pre></td></tr></table></figure>
<p>æƒ³è¦çœ‹åˆ°å½“å‰æ‰€æœ‰çš„æ´»åŠ¨çº¿ç¨‹çš„è¯ä½¿ç”¨ <code>list</code> å­å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">(lldb) thread list</div><div class="line"></div><div class="line">Process 50693 stopped</div><div class="line"></div><div class="line">* thread #1: tid = 0x17de17, 0x0000000109429a90 LLDB-Debugger-Exploration`ViewController.sumOf(a=2, b=2, self=0x00007fe775507390) -&gt; Int at ViewController.swift:90, queue = &apos;com.apple.main-thread&apos;, stop reason = step in</div><div class="line"></div><div class="line">  thread #2: tid = 0x17df4a, 0x000000010daa4dc6  libsystem_kernel.dylib`kevent_qos + 10, queue = &apos;com.apple.libdispatch-manager&apos;</div><div class="line">  </div><div class="line">  thread #3: tid = 0x17df4b, 0x000000010daa444e libsystem_kernel.dylib`__workq_kernreturn + 10</div><div class="line"></div><div class="line">  thread #5: tid = 0x17df4e, 0x000000010da9c34a libsystem_kernel.dylib`mach_msg_trap + 10, name = &apos;com.apple.uikit.eventfetch-thread&apos;</div></pre></td></tr></table></figure>
<h3 id="è£èª‰å¥–"><a href="#è£èª‰å¥–" class="headerlink" title="è£èª‰å¥–"></a>è£èª‰å¥–</h3><p><code>command</code>, <code>platform</code>, <code>gui</code></p>
<p><img src="http://upload-images.jianshu.io/upload_images/698554-93fdf48e5daca771.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>åœ¨ LLDB ä¸­ä½ å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªå‘½ä»¤ç®¡ç†å…¶ä»–çš„å‘½ä»¤ï¼Œå¬èµ·æ¥å¾ˆå¥‡æ€ªï¼Œä½†å®é™…ä¸Šå®ƒæ˜¯éå¸¸æœ‰ç”¨çš„å°å·¥å…·ã€‚é¦–å…ˆï¼Œå®ƒå…è®¸ä½ ä»æ–‡ä»¶ä¸­æ‰§è¡Œä¸€äº› LLDB å‘½ä»¤ï¼Œè¿™æ ·ä½ å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªå‚¨å­˜ç€ä¸€äº›å®ç”¨å‘½ä»¤çš„æ–‡ä»¶ï¼Œç„¶åå°±èƒ½ç«‹åˆ»å…è®¸è¿™äº›å‘½ä»¤ï¼Œå°±åƒæ˜¯å•ä¸ªå‘½ä»¤é‚£æ ·ã€‚è¿™æ˜¯æ‰€è¯´çš„æ–‡ä»¶çš„ç®€å•ä¾‹å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">thread info // æ˜¾ç¤ºå½“å‰çº¿ç¨‹çš„ä¿¡æ¯</div><div class="line">br list // æ˜¾ç¤ºæ‰€æœ‰çš„æ–­ç‚¹</div></pre></td></tr></table></figure>
<p>ä¸‹é¢æ˜¯å®é™…å‘½ä»¤çš„æ ·å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">(lldb) command source /Users/Ahmed/Desktop/lldb-test-script</div><div class="line"></div><div class="line">Executing commands in &apos;/Users/Ahmed/Desktop/lldb-test-script&apos;.</div><div class="line"></div><div class="line">thread info</div><div class="line">thread #1: tid = 0x17de17, 0x0000000109429a90 LLDB-Debugger-Exploration`ViewController.sumOf(a=2, b=2, self=0x00007fe775507390) -&gt; Int at ViewController.swift:90, queue = &apos;com.apple.main-thread&apos;, stop reason = step in</div><div class="line"></div><div class="line">br list</div><div class="line">Current breakpoints:</div><div class="line">1: file = &apos;/Users/Ahmed/Desktop/Recent/LLDB-Debugger-Exploration/LLDB-Debugger-Exploration/ViewController.swift&apos;, line = 60, exact_match = 0, locations = 1, resolved = 1, hit count = 0</div><div class="line">1.1: where = LLDB-Debugger-Exploration`LLDB_Debugger_Exploration.ViewController.viewDidLoad () -&gt; () + 521 at ViewController.swift:60, address = 0x0000000109429609, resolved, hit count = 0</div></pre></td></tr></table></figure>
<p>é—æ†¾çš„æ˜¯è¿˜æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œä½ ä¸èƒ½ä¼ é€’ä»»ä½•å‚æ•°ç»™è¿™ä¸ªæºæ–‡ä»¶ï¼ˆé™¤éä½ åœ¨è„šæœ¬æ–‡ä»¶æœ¬èº«ä¸­åˆ›å»ºä¸€ä¸ªæœ‰æ•ˆçš„å˜é‡ï¼‰ã€‚</p>
<p>å¦‚æœä½ éœ€è¦æ›´é«˜çº§çš„åŠŸèƒ½ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>script</code> å­å‘½ä»¤ï¼Œè¿™ä¸ªå‘½ä»¤å…è®¸ä½ ç”¨è‡ªå®šä¹‰çš„ Python è„šæœ¬ ç®¡ç†(<code>add</code>, <code>delete</code>, <code>import</code> å’Œ <code>list</code>)ï¼Œé€šè¿‡ <code>script</code> å‘½ä»¤èƒ½å®ç°çœŸæ­£çš„è‡ªåŠ¨åŒ–ã€‚è¯·é˜…è¯»è¿™ä¸ªä¼˜ç§€çš„æ•™ç¨‹ <a href="http://www.fabianguerra.com/ios/introduction-to-lldb-python-scripting/" target="_blank" rel="external">Python scripting for LLDB</a>ã€‚ä¸ºäº†æ¼”ç¤ºçš„ç›®çš„ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè„šæœ¬æ–‡ä»¶ script.pyï¼Œç„¶åå†™ä¸€ä¸ªç®€å•çš„å‘½ä»¤ <strong>print_hello()</strong>ï¼Œè¿™ä¸ªå‘½ä»¤ä¼šåœ¨æ§åˆ¶å°ä¸­æ‰“å°å‡ºâ€œHello Debugger!â€œï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">import lldb</div><div class="line"></div><div class="line">def print_hello(debugger, command, result, internal_dict):</div><div class="line">	print &quot;Hello Debugger!&quot;</div><div class="line">    </div><div class="line">def __lldb_init_module(debugger, internal_dict):</div><div class="line">	debugger.HandleCommand(&apos;command script add -f script.print_hello print_hello&apos;) // æ§åˆ¶è„šæœ¬çš„åˆå§‹åŒ–åŒæ—¶ä»è¿™ä¸ªæ¨¡å—ä¸­æ·»åŠ å‘½ä»¤</div><div class="line">	print &apos;The &quot;print_hello&quot; python command has been installed and is ready for use.&apos; // æ‰“å°ç¡®è®¤ä¸€åˆ‡æ­£å¸¸</div></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦å¯¼å…¥ä¸€ä¸ª Python æ¨¡å—ï¼Œå°±èƒ½å¼€å§‹æ­£å¸¸åœ°ä½¿ç”¨æˆ‘ä»¬çš„è„šæœ¬å‘½ä»¤äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">(lldb) command import ~/Desktop/script.py</div><div class="line"></div><div class="line">The &quot;print_hello&quot; python command has been installed and is ready for use.</div><div class="line"></div><div class="line">(lldb) print_hello</div><div class="line"></div><div class="line">Hello Debugger!</div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/698554-463b54c539c5eb64.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>ä½ å¯ä»¥ä½¿ç”¨ <code>status</code> å­å‘½ä»¤æ¥å¿«é€Ÿæ£€æŸ¥å½“å‰çš„ç¯å¢ƒä¿¡æ¯ï¼Œ<code>status</code> ä¼šå‘Šè¯‰ä½ ï¼šSDK è·¯å¾„ã€å¤„ç†å™¨çš„æ¶æ„ã€æ“ä½œç³»ç»Ÿç‰ˆæœ¬ç”šè‡³æ˜¯è¯¥ SDK å¯æ”¯æŒçš„è®¾å¤‡çš„åˆ—è¡¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">(lldb) platform status</div><div class="line"></div><div class="line">Platform: ios-simulator</div><div class="line">Triple: x86_64-apple-macosx</div><div class="line">OS Version: 10.12.5 (16F73)</div><div class="line">Kernel: Darwin Kernel Version 16.6.0: Fri Apr 14 16:21:16 PDT 2017; root:xnu-3789.60.24~6/RELEASE_X86_64</div><div class="line">Hostname: 127.0.0.1</div><div class="line">WorkingDir: /</div><div class="line">SDK Path: &quot;/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator.sdk&quot;</div><div class="line"></div><div class="line">Available devices:</div><div class="line">614F8701-3D93-4B43-AE86-46A42FEB905A: iPhone 4s</div><div class="line">CD516CF7-2AE7-4127-92DF-F536FE56BA22: iPhone 5</div><div class="line">0D76F30F-2332-4E0C-9F00-B86F009D59A3: iPhone 5s</div><div class="line">3084003F-7626-462A-825B-193E6E5B9AA7: iPhone 6</div><div class="line">...</div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/698554-7ac0c7f2bf73cecd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>ä½ ä¸èƒ½åœ¨ Xcode ä¸­ä½¿ç”¨ LLDB GUI æ¨¡å¼ï¼Œä½†ä½ æ€»æ˜¯å¯ä»¥ä»ç»ˆç«¯ä½¿ç”¨ï¼ˆLLDB GUI æ¨¡å¼ï¼‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(lldb) gui</div><div class="line"></div><div class="line">// å¦‚æœä½ è¯•ç€åœ¨ Xcode ä¸­æ‰§è¡Œè¿™ä¸ª gui å‘½ä»¤çš„è¯ï¼Œä½ å°†ä¼šçœ‹åˆ°è¿™ä¸ªé”™è¯¯ï¼šthe gui command requires an interactive terminalã€‚</div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/698554-5d99e8dfc0af41df.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>è¿™å°±æ˜¯ LLDB GUI æ¨¡å¼çœ‹èµ·æ¥çš„æ ·å­ã€‚</p>
<h3 id="ç»“è®ºï¼š"><a href="#ç»“è®ºï¼š" class="headerlink" title="ç»“è®ºï¼š"></a>ç»“è®ºï¼š</h3><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘åªæ˜¯æµ…æäº† LLDB çš„çš®æ¯›çŸ¥è¯†è€Œå·²ï¼Œå³ä½¿ LLDB å·²ç»æœ‰å¥½äº›å¹´å¤´äº†ï¼Œä½†æ˜¯ä»ç„¶æœ‰è®¸å¤šäººå¹¶æ²¡æœ‰å®Œå…¨å‘æŒ¥å‡ºå®ƒçš„æ½œèƒ½ã€‚æˆ‘åªæ˜¯å¯¹åŸºæœ¬çš„æ–¹æ³•åšäº†ä¸€ä¸ªæ¦‚è¿°ï¼Œä»¥åŠè°ˆäº† LLDB å¦‚ä½•è‡ªåŠ¨åŒ–è°ƒè¯•æ­¥éª¤ã€‚æˆ‘å¸Œæœ›è¿™ä¼šæ˜¯æœ‰å¸®åŠ©çš„ã€‚</p>
<p>è¿˜æœ‰å¾ˆå¤š LLDB çš„æ–¹æ³•å¹¶æ²¡æœ‰å†™åˆ°ï¼Œç„¶åè¿˜æœ‰ä¸€äº›è§†å›¾è°ƒè¯•æŠ€æœ¯æˆ‘æ²¡æœ‰æåŠã€‚å¦‚æœä½ å¯¹è¿™äº›è¯é¢˜æ„Ÿå…´è¶£çš„è¯ï¼Œè¯·åœ¨ä¸‹é¢ç•™ä¸‹ä½ çš„è¯„è®ºï¼Œæˆ‘ä¼šæ›´åŠ ä¹äºå†™è¿™äº›è¯é¢˜ã€‚</p>
<p>æˆ‘å¼ºçƒˆå»ºè®®ä½ æ‰“å¼€ç»ˆç«¯ï¼Œå¯åŠ¨ LLDBï¼Œåªéœ€è¦æ•²å…¥ <code>help</code>ï¼Œå°±ä¼šå‘ä½ å±•ç¤ºå®Œæ•´çš„æ–‡æ¡£ã€‚ä½ å¯ä»¥èŠ±è´¹æ•°å°æ—¶å»é˜…è¯»ï¼Œä½†æ˜¯æˆ‘ä¿è¯è¿™å°†æ˜¯ä¸€ä¸ªåˆç†çš„æ—¶é—´æŠ•èµ„ã€‚å› ä¸ºäº†è§£ä½ çš„å·¥å…·æ˜¯å·¥ç¨‹å¸ˆçœŸæ­£äº§å‡ºçš„å”¯ä¸€é€”å¾„ã€‚</p>
<hr>
<ul>
<li><a href="http://lldb.llvm.org" target="_blank" rel="external">LLDB å®˜æ–¹ç½‘ç«™</a> â€” â€Šä½ ä¼šåœ¨è¿™é‡Œæ‰¾åˆ°æ‰€æœ‰ä¸ LLDB ç›¸å…³çš„ææ–™ã€‚æ–‡æ¡£ã€æŒ‡å—ã€æ•™ç¨‹ã€æºæ–‡ä»¶ä»¥åŠæ›´å¤šã€‚</li>
<li><a href="https://developer.apple.com/library/content/documentation/IDEs/Conceptual/gdb_to_lldb_transition_guide/document/Introduction.html#//apple_ref/doc/uid/TP40012917-CH1-SW1" target="_blank" rel="external">LLDB Quick Start Guide by Apple</a> â€” åŒæ ·åœ°ï¼ŒApple æä¾›äº†å¾ˆå¥½çš„æ–‡æ¡£ã€‚è¿™ç¯‡æŒ‡å—èƒ½å¸®ä½ å¿«é€Ÿä¸Šæ‰‹ LLDBï¼Œå½“ç„¶ï¼Œä»–ä»¬ä¹Ÿå™è¿°äº†æ€æ ·ä¸é€šè¿‡ Xcode åœ°ç”¨ LLDB è°ƒè¯•ã€‚</li>
<li><a href="http://eli.thegreenplace.net/2011/01/23/how-debuggers-work-part-1" title="Permalink to How debuggers work: Part 1 - Basics" target="_blank" rel="external">How debuggers work: Part 1â€Šâ€”â€ŠBasics</a> â€” æˆ‘éå¸¸å–œæ¬¢è¿™ä¸ªç³»åˆ—çš„æ–‡ç« ï¼Œè¿™æ˜¯å¯¹è°ƒè¯•å™¨å®é™…å·¥ä½œæ–¹å¼å¾ˆå¥½çš„æ¦‚è¿°ã€‚æ–‡ç« ä»‹ç»äº†ç”¨ C è¯­è¨€æ‰‹å·¥ç¼–å†™çš„è°ƒè¯•å™¨ä»£ç è¦éµå¾ªçš„æ‰€æœ‰åŸºæœ¬åŸç†ã€‚æˆ‘å¼ºçƒˆå»ºè®®ä½ å»é˜…è¯»è¿™ä¸ªä¼˜ç§€ç³»åˆ—çš„æ‰€æœ‰éƒ¨åˆ†ï¼ˆ<a href="http://eli.thegreenplace.net/2011/01/27/how-debuggers-work-part-2-breakpoints" target="_blank" rel="external">ç¬¬2éƒ¨åˆ†</a>, <a href="http://eli.thegreenplace.net/2011/02/07/how-debuggers-work-part-3-debugging-information" target="_blank" rel="external">ç¬¬3éƒ¨åˆ†</a>ï¼‰ã€‚</li>
<li><a href="https://developer.apple.com/videos/play/wwdc2014/410/" target="_blank" rel="external">WWDC14 Advanced Swift Debugging in LLDB</a> â€” å…³äºåœ¨ LLDB ä¸­ç”¨ Swift è°ƒè¯•çš„ä¸€ç¯‡ä¸é”™çš„æ¦‚è¿°ï¼Œä¹Ÿè®²äº† LLDB å¦‚ä½•é€šè¿‡å†…å»ºçš„æ–¹æ³•å’Œç‰¹æ€§å®ç°å®Œæ•´çš„è°ƒè¯•æ“ä½œï¼Œæ¥å¸®ä½ å˜å¾—æ›´åŠ é«˜æ•ˆã€‚</li>
<li><a href="http://www.fabianguerra.com/ios/introduction-to-lldb-python-scripting/" target="_blank" rel="external">Introduction To LLDB Python Scripting</a> â€” è¿™ç¯‡ä»‹ç» LLDB Python è„šæœ¬çš„æŒ‡å—èƒ½è®©ä½ å¿«é€Ÿä¸Šæ‰‹ã€‚</li>
<li><a href="https://www.objc.io/issues/19-debugging/lldb-debugging" target="_blank" rel="external">Dancing in the Debugger. A Waltz with LLDB</a>â€Š â€” å¯¹ LLDB ä¸€äº›åŸºç¡€çŸ¥è¯†çš„ä»‹ç»ï¼Œæœ‰äº›çŸ¥è¯†æœ‰ç‚¹è¿‡æ—¶äº†ï¼ˆæ¯”å¦‚è¯´ <code>(lldb) thread return</code> å‘½ä»¤ï¼‰ã€‚é—æ†¾çš„æ˜¯ï¼Œå®ƒä¸èƒ½ç›´æ¥ç”¨äº Swiftï¼Œå› ä¸ºå®ƒä¼šå¯¹å¼•ç”¨è®¡æ•°å¸¦äº†ä¸€äº›æ½œåœ¨çš„éšæ‚£ã€‚ä½†æ˜¯ï¼Œè¿™ä»ç„¶æ˜¯ä½ å¼€å§‹ LLDB ä¹‹æ—…ä¸é”™çš„æ–‡ç« ã€‚</li>
</ul>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/iOS/" rel="tag"># iOS</a>
          
            <a href="/tags/ç¿»è¯‘/" rel="tag"># ç¿»è¯‘</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/02/01/æ ¼å¼åŒ–Import/" rel="next" title="Source Editor Extension â€” Xcode æ ¼å¼åŒ– Import çš„æ’ä»¶">
                <i class="fa fa-chevron-left"></i> Source Editor Extension â€” Xcode æ ¼å¼åŒ– Import çš„æ’ä»¶
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/03/02/ã€ŠæŒ‡æ•°åŸºé‡‘æŠ•èµ„æŒ‡å—ã€‹è¯»åæ„Ÿ/" rel="prev" title="ã€ŠæŒ‡æ•°åŸºé‡‘æŠ•èµ„æŒ‡å—ã€‹è¯»åæ„Ÿ">
                ã€ŠæŒ‡æ•°åŸºé‡‘æŠ•èµ„æŒ‡å—ã€‹è¯»åæ„Ÿ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2018/02/06/ç¿»è¯‘ç”¨LLDBè°ƒè¯•Swiftä»£ç /"
           data-title="(ç¿»è¯‘)ç”¨ LLDB è°ƒè¯• Swift ä»£ç " data-url="http://yoursite.com/2018/02/06/ç¿»è¯‘ç”¨LLDBè°ƒè¯•Swiftä»£ç /">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="ruanpapa & åˆå‰å›" />
          <p class="site-author-name" itemprop="name">ruanpapa & åˆå‰å›</p>
          <p class="site-description motion-element" itemprop="description">ruanpapaå’Œåˆå‰å›å†™å­—çš„åœ°æ–¹</p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">25</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/VernonVan" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#ç”¨-LLDB-è°ƒè¯•-Swift-ä»£ç "><span class="nav-number">1.</span> <span class="nav-text">ç”¨ LLDB è°ƒè¯• Swift ä»£ç </span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ä»å“ªé‡Œå¼€å§‹å‘¢ï¼Ÿ"><span class="nav-number">1.0.1.</span> <span class="nav-text">ä»å“ªé‡Œå¼€å§‹å‘¢ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-è·å–å˜é‡å€¼å’ŒçŠ¶æ€"><span class="nav-number">1.0.2.</span> <span class="nav-text">1. è·å–å˜é‡å€¼å’ŒçŠ¶æ€</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-è·å–æ•´ä¸ª-APP-çš„çŠ¶æ€å’ŒæŒ‡å®šè¯­è¨€çš„å‘½ä»¤"><span class="nav-number">1.0.3.</span> <span class="nav-text">2. è·å–æ•´ä¸ª APP çš„çŠ¶æ€å’ŒæŒ‡å®šè¯­è¨€çš„å‘½ä»¤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-æ§åˆ¶åº”ç”¨çš„æ‰§è¡Œæµç¨‹"><span class="nav-number">1.0.4.</span> <span class="nav-text">3. æ§åˆ¶åº”ç”¨çš„æ‰§è¡Œæµç¨‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#è£èª‰å¥–"><span class="nav-number">1.0.5.</span> <span class="nav-text">è£èª‰å¥–</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç»“è®ºï¼š"><span class="nav-number">1.0.6.</span> <span class="nav-text">ç»“è®ºï¼š</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ruanpapa & åˆå‰å›</span>
</div>


<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"vernonvan"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  












  
  

  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("fRSRDUvIyCVcsgLOHArGl58q-gzGzoHsz", "0mGpmjuTsGuu9JEKGaU6YX9j");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  


</body>
</html>
